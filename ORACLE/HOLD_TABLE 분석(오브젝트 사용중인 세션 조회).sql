/* HOLD_TABLE 분석 */

LOCK TABLE TEST_TBL1 IN EXCLUSIVE MODE;       
SELECT /*+ RULE */
	'ALTER SYSTEM KILL SESSION ''' || S.SID || ',' || S.SERIAL# || ''' IMMEDIATE;' SESSION_KILL
	,OBJECT_NAME 
	,S.* 
FROM 
(SELECT /*+ NO_MERGE(O) */
		S.*
		,O.OBJECT_NAME 
		,O.LOCKED_MODE 
		,S.INST_ID || ':' || SID AS G_SID 
		,S.INST_ID || ':' || BLOCKING_SESSION AS G_BLOCKING_SESSION 
	FROM GV$SESSION S,
		(SELECT /*+ RULE */
			A.* , B.NAME OBJECT_NAME 
		FROM  
			GV$LOCKED_OBJECT A,
			SYS.OBJ$ B 
		WHERE A.OBJECT_ID = B.OBJ#
		) O 
WHERE S.SID = O.SESSION_ID 
	AND S.INST_ID = O.INST_ID ) S     
--WHERE OBJECT_NAME LIKE '%AAA%'
;